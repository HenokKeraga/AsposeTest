<mxfile host="app.diagrams.net" modified="2020-04-10T17:18:37.018Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.92 Safari/537.36" etag="_EUAL2bnqQXrpFUvPmV9" version="12.9.10" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1022" dy="420" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="LBpAUkLwmhWjywcLZa80-2" value="&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;Properties prop = &lt;span style=&quot;font-weight: bold&quot;&gt;new &lt;/span&gt;Properties();&lt;/pre&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;prop.load(&lt;span style=&quot;font-weight: bold&quot;&gt;file&lt;/span&gt;);&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="180" y="70" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LBpAUkLwmhWjywcLZa80-3" value="&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;&lt;span style=&quot;font-weight: bold&quot;&gt;service&lt;/span&gt;.uploadInstructionSheet(&lt;span style=&quot;font-weight: bold&quot;&gt;docId&lt;/span&gt;, &lt;span style=&quot;font-weight: bold&quot;&gt;docType&lt;/span&gt;, &lt;span style=&quot;font-weight: bold&quot;&gt;doc&lt;/span&gt;, &lt;span style=&quot;font-weight: bold&quot;&gt;docName&lt;/span&gt;, contentType, &lt;span style=&quot;font-weight: bold&quot;&gt;upFile&lt;/span&gt;.getInputStream(), &lt;span style=&quot;font-weight: bold&quot;&gt;null&lt;/span&gt;, userDo.getVzid());&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="30" y="180" width="910" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LBpAUkLwmhWjywcLZa80-4" value="&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;String contentID = &lt;span style=&quot;font-weight: bold&quot;&gt;pmService&lt;/span&gt;.uploadInstructionSheet(docID, DocType, DocNo, DocName, contentType, byteArrayInputStream, contentId, userId);&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="40" y="270" width="910" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LBpAUkLwmhWjywcLZa80-5" value="&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;docId = docUtil.createDocument(&lt;span style=&quot;font-weight: bold&quot;&gt;&quot;edm_vssi_ld_contract&quot;&lt;/span&gt;,  &lt;span style=&quot;font-weight: bold&quot;&gt;&quot;salesDocumentACL&quot;&lt;/span&gt;, DocType, DocType, &lt;span style=&quot;font-weight: bold&quot;&gt;&quot;&quot;&lt;/span&gt;, byteArrayOutputStream, contentType, metaInfoMap);&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="10" y="370" width="970" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LBpAUkLwmhWjywcLZa80-6" value="&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;VirtualDocument vDoc = (VirtualDocument) contractDetailgetContentObject();&lt;/pre&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: &amp;#34;consolas&amp;#34; ; font-size: 8.3pt&quot;&gt;vz.esm.edm.common.pom.InstructionSheet insDocNode = &lt;span style=&quot;font-weight: bold&quot;&gt;new &lt;/span&gt;vz.esm.edm.common.pom.InstructionSheet();&lt;br&gt;insDocNode.setName(DocName==&lt;span style=&quot;font-weight: bold&quot;&gt;null&lt;/span&gt;?&lt;span style=&quot;font-weight: bold&quot;&gt;&quot;&quot;&lt;/span&gt;:DocName);&lt;br&gt;insDocNode.setContentId(docId);&lt;br&gt;insDocNode.setOrgContentId(docId);&lt;br&gt;insDocNode.setExternalId(vDoc.getExternalId());&lt;br&gt;insDocNode.setDocumentType(DocType);&lt;br&gt;insDocNode&lt;br&gt;      .setBizStatus(EDMConstants.&lt;span style=&quot;font-weight: bold ; font-style: italic&quot;&gt;DOCUMENT_STATUS_AVAILABLE_FOR_EDIT&lt;/span&gt;);&lt;br&gt;&lt;span style=&quot;font-style: italic&quot;&gt;//insDocNode.setUser(vDoc.getUser());&lt;br&gt;&lt;/span&gt;insDocNode.setCreateTimestamp(&lt;span style=&quot;font-weight: bold&quot;&gt;new &lt;/span&gt;Date());&lt;br&gt;insDocNode.setModifiedTimestamp(&lt;span style=&quot;font-weight: bold&quot;&gt;new &lt;/span&gt;Date());&lt;br&gt;insDocNode.setDocumentNo(DocNo);&lt;br&gt;insDocNode.setTitle(DocName==&lt;span style=&quot;font-weight: bold&quot;&gt;null&lt;/span&gt;?&lt;span style=&quot;font-weight: bold&quot;&gt;&quot;&quot;&lt;/span&gt;:DocName);&lt;br&gt;insDocNode.setUser(userId);&lt;br&gt;insDocNode.setVersion(&lt;span style=&quot;font-weight: bold&quot;&gt;&quot;00&quot;&lt;/span&gt;);&lt;br&gt;insDocNode.setIsautogen(&lt;span style=&quot;font-weight: bold&quot;&gt;true&lt;/span&gt;);&lt;br&gt;&lt;br&gt;Set docSet = vDoc.getContentObjects();&lt;br&gt;docSet.add(insDocNode);&lt;br&gt;vDoc.setContentObjects(docSet);&lt;br&gt;&lt;span style=&quot;font-weight: bold&quot;&gt;contractDao&lt;/span&gt;.updateObject(insDocNode);&lt;br&gt;&lt;span style=&quot;font-weight: bold&quot;&gt;contractDao&lt;/span&gt;.updateObject(vDoc);&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="110" y="460" width="640" height="320" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
